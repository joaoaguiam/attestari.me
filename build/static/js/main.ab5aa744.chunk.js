(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1091:function(e,t,a){"use strict";(function(e){var n=a(11),r=a.n(n),i=a(36),o=a(58),s=a(59),l=a(61),c=a(60),p=a(62),u=a(154),d=a(1),m=a.n(d),f=a(585),h=a(37),g=a(49),v=a.n(g),b=a(26),k=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(l.a)(this,Object(c.a)(a).call(this,t))).convertToBuffer=function(){var t=Object(i.a)(r.a.mark(function t(a){var i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("on convertToBuffer"),t.next=3,e.from(a.result);case 3:return i=t.sent,console.log(i),t.next=7,n.setState({buffer:i});case 7:console.log("finished convertToBuffer");case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n.captureFile=n.captureFile.bind(Object(u.a)(Object(u.a)(n))),n.convertToBuffer=n.convertToBuffer.bind(Object(u.a)(Object(u.a)(n))),n.uploadFile=n.uploadFile.bind(Object(u.a)(Object(u.a)(n))),n.state={url:"",buffer:void 0,ipfsHash:void 0,status:void 0,fileName:""===n.props.value?n.props.placeholder:n.props.value},n}return Object(p.a)(a,t),Object(s.a)(a,[{key:"captureFile",value:function(e){var t=this;console.log("on captureFile"),e.stopPropagation(),e.preventDefault();var a=e.target.files[0];console.log(a);var n=new window.FileReader;this.setState({fileName:a.name}),n.readAsArrayBuffer(a),n.onloadend=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.convertToBuffer(n);case 2:t.uploadFile();case 3:case"end":return e.stop()}},e,this)}))}},{key:"uploadFile",value:function(){var e=this;console.log("on uploadFile");var t=Object(f.a)();console.log(t),console.log(this.state),this.setState({status:"UPLOADING"}),t.add(this.state.buffer,function(t,a){console.log(t,a);var n=a[0].hash,r=Object(f.b)(n);e.setState({hash:n,url:r,status:"UPLOADED"}),e.props.fileUploadedCB(r,n)})}},{key:"render",value:function(){var e="UPLOADING"===this.state.status,t=this.props.caption?this.props.caption:"Select File",a=this.props.classes;return m.a.createElement("div",null,m.a.createElement("input",{accept:"image/*",className:a.input,id:"contained-button-file",multiple:!0,type:"file",onChange:this.captureFile}),m.a.createElement("label",{htmlFor:"contained-button-file"},m.a.createElement(b.b,{item:!0,className:a.wrapper},m.a.createElement(v.a,{component:"span",className:a.button,disabled:e},t),e&&m.a.createElement(b.a,{size:24,className:a.buttonProgress}))))}}]),a}(d.Component);t.a=Object(h.withStyles)(function(e){return{button:{margin:e.spacing.unit},input:{display:"none"},wrapper:{position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(k)}).call(this,a(0).Buffer)},1157:function(e,t,a){e.exports=a(2794)},1162:function(e,t,a){},1197:function(e,t){},1199:function(e,t){},1223:function(e,t){},1239:function(e,t){},1241:function(e,t){},1272:function(e,t){},1470:function(e,t){},1481:function(e,t){},1514:function(e,t){},1647:function(e,t){},1649:function(e,t){},1809:function(e,t){},1846:function(e,t){},1892:function(e,t){},2005:function(e,t){},2029:function(e,t){},2063:function(e,t){},2069:function(e,t){},2071:function(e,t){},2095:function(e,t){},2125:function(e,t){},2136:function(e,t){},2138:function(e,t){},2144:function(e,t){},2146:function(e,t){},2152:function(e,t){},2176:function(e,t){},2210:function(e,t){},2247:function(e,t){},2337:function(e,t){},2348:function(e,t){},2350:function(e,t){},2376:function(e,t){},2390:function(e,t){},2392:function(e,t){},2395:function(e,t){},2437:function(e,t){},2472:function(e,t){},2474:function(e,t){},2485:function(e,t){},2543:function(e,t){},2548:function(e,t){},2550:function(e,t){},2554:function(e,t){},2556:function(e,t){},2560:function(e,t){},2561:function(e,t){},2565:function(e,t){},2567:function(e,t){},2573:function(e,t){},2575:function(e,t){},2584:function(e,t){},2586:function(e,t){},2794:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"globalApp",function(){return Dt}),a.d(n,"profile3Box",function(){return se}),a.d(n,"web3",function(){return G});var r=a(1),i=a.n(r),o=a(81),s=a.n(o),l=(a(1162),a(58)),c=a(59),p=a(61),u=a(60),d=a(62),m=a(37),f=a(399),h=a.n(f),g=a(400),v=a.n(g),b=a(167),k=a.n(b),E=a(49),x=a.n(E),w={HOME:function(){return"/"},PROFILE:function(){return"/profile"},ATTEST:function(){return"/attest/:requestorAddress/:skillName/:skillTimeStamp/:skillSignature/:attestatorEmail/:requestorEmail"},ACCEPT_ATTESTATION:function(){return"/acceptAttestation/:requestorAddress/:skillName/:skillTimeStamp/:attestationSignature/:attestorAddress/:timeStamp/:requesterName"},PUBLIC_PROFILE:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":address";return"/publicProfile/".concat(e)}},S=a(2796),y=a(2799),O=a(53),A=a(11),B=a.n(A),C=a(36),j="web3.ACCOUNT_CHANGED",N="web3.ACCOUNTS_LOADED",P="web3.NETWORK_CHANGED",T="web3.BALANCE_UPDATED",D="web3.WEB3_LOCKED",L="web3.WEB3_UNLOCKED",F="web3.WEB3_INSTALLED",I="web3.TX_STATUS_UPDATED",R="web3.RESET_LAST_TX",U=a(240),q=a.n(U),W=a(583),_=a.n(W),M=q()({accounts:[],selectedAccount:void 0,networkId:-1,balance:void 0,web3kLocked:!0,web3Installed:!1,lastTransation:void 0,web3Provider:void 0});function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case N:return e.merge({accounts:t.accounts});case j:return e.merge({selectedAccount:t.selectedAccount,isLocked:void 0!==t.selectedAccount});case P:return e.merge({networkId:t.networkId});case T:return e.merge({balance:t.balance});case D:return e.merge({web3kLocked:!0});case L:return e.merge({web3kLocked:!1});case F:return e.merge({web3Installed:!0});case I:return e.merge({lastTransation:{txHash:t.txHash,txStatus:t.txStatus}});case R:return e.merge({lastTransation:void 0});default:return e}}function V(e){return e.web3.selectedAccount}function H(){return window.web3.currentProvider}var Y=function(){var e=Object(C.a)(B.a.mark(function e(t,a,n){var r,i;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new _.a(new _.a.providers.WebsocketProvider("wss://mainnet.infura.io/ws")),e.next=4,r.eth.accounts.recover(t,a);case 4:return i=e.sent,e.abrupt("return",i.toUpperCase()===n.toUpperCase());case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t,a,n){return e.apply(this,arguments)}}();var z=Object(y.a)(Object(O.b)(function(e){return{web3Address:V(e)}})(Object(m.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(function(e){var t=e.classes,a=e.web3Address;return i.a.createElement("div",{className:t.root},i.a.createElement(h.a,{position:"static"},i.a.createElement(v.a,null,i.a.createElement(k.a,{variant:"title",color:"inherit",align:"left",className:t.grow},"Attestari.me"),i.a.createElement(x.a,{color:"inherit",component:S.a,to:w.PROFILE()},"My Profile"),i.a.createElement(x.a,{color:"inherit",component:S.a,to:w.PUBLIC_PROFILE(a)},"My Public Profile"))))}))),X=a(2798),K=a(2797),J=a(135),$=a(26),Q=function(e){window.web3.eth.getAccounts(function(t,a){if(t)console.log(t),e({type:N,accounts:[]});else if(a){var n=a.length>0?a[0]:void 0;e({type:N,accounts:a}),e({type:j,selectedAccount:n}),n?(e({type:L}),window.web3.eth.getBalance(n,function(t,a){var n=Number(a);e({type:T,balance:n})})):e({type:D})}else e({type:N,accounts:[]}),e({type:D})})},Z=function(e){};function ee(){return function(){var e=Object(C.a)(B.a.mark(function e(t,a){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{window.web3&&(a().web3.libraryInitialized||(Q(t),Z(t),t({type:F}),window.web3.currentProvider.publicConfigStore.on("update",function(){Q(t),Z(t)})))}catch(n){console.error(n)}case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}var te="3box.LOADED_3BOX",ae="3box.SKILLS_UPDATED",ne="3box.ATTESTATIONS_UPDATED",re="3box.PENDING_ATTESTATIONS_UPDATED",ie="3box.PUBLIC_PROFILE_LOADED",oe=q()({isLoaded:!1,address:"",name:"",email:"",avatar:"",skills:[],attestations:{},pendingAttestations:{},publicProfile:{name:"",attestations:{},skills:{}}});function se(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case te:return e.merge({name:t.name,email:t.email,avatar:t.avatar,address:t.address,skills:t.skills,attestations:t.attestations,pendingAttestations:t.pendingAttestations,isLoaded:!0});case ae:return e.merge({skills:t.skills});case ne:return e.merge({attestations:t.attestations});case ie:return e.merge({publicProfile:t.publicProfile});default:return e}}function le(e){return e.profile3Box.isLoaded}function ce(e){var t=e.profile3Box;return{name:t.name,email:t.email,avatar:t.avatar,skills:t.skills,address:t.address,attestations:t.attestations,pendingAttestations:t.pendingAttestations}}function pe(e){return e.profile3Box.publicProfile}var ue=a(584),de=a.n(ue),me="globalApp.SET_LOADING",fe="globalApp.UNSET_LOADING";function he(){return function(){var e=Object(C.a)(B.a.mark(function e(t,a){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:me});case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}function ge(){return function(){var e=Object(C.a)(B.a.mark(function e(t,a){return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:fe});case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}var ve=void 0;function be(e){return function(){var t=Object(C.a)(B.a.mark(function t(a,n){var r,i,o,s,l,c;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(he()),t.next=4,de.a.openBox(e,H());case 4:return ve=t.sent,t.next=7,ve.public.get("name");case 7:return r=t.sent,t.next=10,ve.private.get("email");case 10:return i=t.sent,t.next=13,ve.public.get("avatar");case 13:return o=t.sent,t.next=16,ve.public.get("attestari.skills");case 16:return s=t.sent,t.next=19,ve.public.get("attestari.attestations");case 19:return l=t.sent,t.next=22,ve.private.get("attestari.pendingAttestations");case 22:c=t.sent,a({type:te,name:r=r||"",email:i=i||"",avatar:o=o||"",skills:s=s||[],address:e,attestations:l=l||{},pendingAttestations:c=c||{}}),a(function(){var e=Object(C.a)(B.a.mark(function e(t,a){var n;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==ve){e.next=3;break}throw new Error("No 3Box available");case 3:return t(he()),e.next=6,ve.public.get("attestari.skills");case 6:(n=e.sent)||(n=[]),t({type:ae,skills:n}),t(ge()),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t,a){return e.apply(this,arguments)}}()),a(ge()),t.next=37;break;case 34:throw t.prev=34,t.t0=t.catch(0),t.t0;case 37:case"end":return t.stop()}},t,this,[[0,34]])}));return function(e,a){return t.apply(this,arguments)}}()}function ke(e,t,a){return function(){var n=Object(C.a)(B.a.mark(function n(r,i){var o;return B.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,void 0!==ve){n.next=3;break}throw new Error("No 3Box available");case 3:return r(he()),o=ce(i()).address,n.next=7,ve.public.set("name",e);case 7:return n.next=9,ve.public.set("avatar",a);case 9:return n.next=11,ve.private.set("email",t);case 11:r({type:te,name:e,email:t,avatar:a,address:o}),r(ge()),n.next=18;break;case 15:throw n.prev=15,n.t0=n.catch(0),n.t0;case 18:case"end":return n.stop()}},n,this,[[0,15]])}));return function(e,t){return n.apply(this,arguments)}}()}function Ee(e){return function(){var t=Object(C.a)(B.a.mark(function t(a,n){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,void 0!==ve){t.next=3;break}throw new Error("No 3Box available");case 3:return a(he()),t.next=6,ve.public.set("attestari.skills",e);case 6:a({type:ae,skills:e}),a(ge()),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(e,a){return t.apply(this,arguments)}}()}function xe(e){return function(){var t=Object(C.a)(B.a.mark(function t(a,n){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,void 0!==ve){t.next=3;break}throw new Error("No 3Box available");case 3:return a(he()),t.next=6,ve.public.set("attestari.attestations",e);case 6:a({type:ne,attestations:e}),a(ge()),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(e,a){return t.apply(this,arguments)}}()}function we(e){return function(){var t=Object(C.a)(B.a.mark(function t(a,n){return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,void 0!==ve){t.next=3;break}throw new Error("No 3Box available");case 3:return a(he()),t.next=6,ve.private.set("attestari.pendingAttestations",e);case 6:a({type:re,pendingAttestations:e}),a(ge()),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(e,a){return t.apply(this,arguments)}}()}function Se(e){return function(){var t=Object(C.a)(B.a.mark(function t(a,n){var r;return B.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(he()),t.next=4,de.a.getProfile(e);case 4:r=t.sent,a({type:ie,publicProfile:r}),a(ge()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(ge());case 12:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e,a){return t.apply(this,arguments)}}()}var ye=a(153),Oe=a.n(ye),Ae=a(1091),Be=a(404),Ce=a.n(Be),je=a(22),Ne=a.n(je),Pe=a(136),Te=a.n(Pe),De=a(1095),Le=a.n(De),Fe=a(169),Ie=a.n(Fe),Re=a(301),Ue=a.n(Re),qe=a(170),We=a.n(qe),_e=a(300),Me=a.n(_e),Ge=a(410),Ve=a.n(Ge),He=a(241),Ye=a.n(He),ze=a(134),Xe=a.n(ze),Ke=a(239),Je=a.n(Ke),$e=a(168),Qe=a.n($e),Ze=a(407),et=a.n(Ze),tt=a(1093),at=a.n(tt),nt=a(406),rt=a(401),it=a.n(rt),ot=a(403),st=a.n(ot),lt=a(124),ct=a.n(lt),pt=a(402),ut=a.n(pt),dt=a(302),mt=a.n(dt),ft=a(1094),ht=a.n(ft),gt=a(1092),vt=a.n(gt),bt=a(411),kt=a.n(bt);a(2722),a(2726),a(2729);kt.a.initializeApp({apiKey:"AIzaSyAzRXSUXMud6Oto1-ISsUiGMdun5slDG3U",authDomain:"att-net.firebaseapp.com",databaseURL:"https://att-net.firebaseio.com",projectId:"att-net",storageBucket:"att-net.appspot.com",messagingSenderId:"817008533355"});var Et=function(e){try{return kt.a.database().ref(e).push().key}catch(t){throw t}},xt=function(){var e=Object(C.a)(B.a.mark(function e(t,a,n){var r,i;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=kt.a.database(),i=r.ref(t),e.next=5,i.child(a).set(n,function(e){e&&console.log(e)});case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,a,n){return e.apply(this,arguments)}}(),wt=function(){var e=Object(C.a)(B.a.mark(function e(t,a,n,r,i,o,s){var l,c,p;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l="/pendingAttestations",e.next=4,Et(l);case 4:return c=e.sent,p={requestorAddress:t,requestorName:a,requestorEmail:n,attestatorEmail:r,skillName:i,skillTimeStamp:o,skillSignature:s,key:c,timeStamp:(new Date).getTime()},e.next=8,xt(l,c,p);case 8:return e.next=10,fetch("https://us-central1-attestari-dev.cloudfunctions.net/sendAttestationEmail",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(p)});case 10:return e.abrupt("return",p);case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(t,a,n,r,i,o,s){return e.apply(this,arguments)}}(),St=function(){var e=Object(C.a)(B.a.mark(function e(t,a,n,r,i,o,s,l,c){var p;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p={skillName:t,skillTimeStamp:a,attestorName:n,attestorAddress:r,timeStamp:s,attestationSignature:l,requestorAddress:i,requestorEmail:o,requesterName:c},e.next=4,fetch("https://us-central1-attestari-dev.cloudfunctions.net/sendApprovedAttestationEmail",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(p)});case 4:return e.abrupt("return",p);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t,a,n,r,i,o,s,l,c){return e.apply(this,arguments)}}(),yt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){},a.handleChange=function(e){return function(t){a.setState(Object(J.a)({},e,t.target.value))}},a.openSnackbar=function(e){a.setState({snackbarMessage:e,snackbarOpenState:!0})},a.closeSnackbar=function(){a.setState({snackbarMessage:"",snackbarOpenState:!1})},a.addAttestor=Object(C.a)(B.a.mark(function e(){var t,n,r;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.profile3Box.pendingAttestations,n=Xe.a.cloneDeep(t),e.next=4,wt(a.props.profile3Box.address,a.props.profile3Box.name,a.props.profile3Box.email,a.state.attestatorEmail,a.props.skill.name,a.props.skill.timeStamp,a.props.skill.signature);case 4:r=e.sent,n[a.props.skill.name]||(n[a.props.skill.name]=[]),n[a.props.skill.name].push(r),a.props.dispatch(we(n)),a.openSnackbar("Attestation request sent to ".concat(a.state.attestatorEmail)),a.setState({attestatorEmail:""});case 10:case"end":return e.stop()}},e,this)})),a.state={snackbarMessage:"",snackbarOpenState:!1,deleteSkillDialogState:!1,deleteSkillEntity:void 0,attestatorEmail:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes;return e.is3BoxLoaded?i.a.createElement(i.a.Fragment,null,i.a.createElement(Je.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackbarOpenState,autoHideDuration:4e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:i.a.createElement("span",{id:"message-id"},this.state.snackbarMessage),action:[i.a.createElement(Qe.a,{key:"close","aria-label":"Close",className:t.close,onClick:this.closeSnackbar},i.a.createElement(et.a,null))]}),i.a.createElement("div",{className:t.mainContainer},i.a.createElement($.c,{variant:"subheading",gutterBottom:!0},"Request Attestation"),i.a.createElement("div",{className:t.requestAttestationContainer},i.a.createElement(Oe.a,{autoFocus:!0,id:"request-email",label:"Attestator Email",type:"email",width:400,className:t.requestAttestationEmail,value:this.state.attestatorEmail,onChange:this.handleChange("attestatorEmail")}),i.a.createElement(x.a,{variant:"fab",mini:!0,color:"primary","aria-label":"Add",className:t.button,disabled:""===this.state.attestatorEmail,onClick:this.addAttestor},i.a.createElement(vt.a,null))))):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.propsSkills!==e.profile3Box.skills&&(t.skills=e.profile3Box.skills,t.propsSkills=e.profile3Box.skill),t}}]),t}(r.Component);var Ot=Object(y.a)(Object(O.b)(function(e){return{web3Address:V(e),web3Provider:H(),is3BoxLoaded:le(e),profile3Box:ce(e)}})(Object(m.withStyles)(function(e){return{centerContainer:{textAlign:"center",padding:3*e.spacing.unit},button:{},textField:{width:"100%"},profileValue:{color:e.palette.text.secondary,paddingLeft:e.spacing.unit},rightContainer:{textAlign:"right"},avatarContainer:{display:"flex"},avatar:{width:80,height:80},dividerContainer:{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},drawerPaper:{position:"relative",width:180},mySkillsContainer:{position:"relative"},addSkillButton:{position:"absolute",top:2*e.spacing.unit,right:2*e.spacing.unit},close:{padding:e.spacing.unit/2},containerWhite:{backgroundColor:"white",marginBottom:3*e.spacing.unit},containerPadding:{paddingTop:3*e.spacing.unit,paddingBottom:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},addressContainer:{width:300},root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:640},mainContainer:{marginTop:2*e.spacing.unit},rightIcon:{marginLeft:e.spacing.unit},requestAttestationContainer:{display:"flex"},requestAttestationEmail:{width:400}}})(yt))),At=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(J.a)({},e,t.target.value))}},a.addSkill=Object(C.a)(B.a.mark(function e(){var t,n,r,i,o,s,l;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.skills,r=t.addSkillName,-1===n.findIndex(function(e){return e.name===r})){e.next=6;break}return a.openSnackbar("Skill ".concat(r," already exists")),a.setState({addSkillError:!0}),e.abrupt("return");case 6:return i=(new Date).getTime(),o="Skill:'".concat(r,"':Timestamp:'").concat(i,"'"),s="",e.prev=9,e.next=12,Object(nt.a)(a.props.web3Address,o);case 12:s=e.sent,e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(9),e.abrupt("return");case 18:(l=Xe.a.clone(n)).push({name:r,timeStamp:Ve()().valueOf(),message:o,signature:s}),a.setState({skills:l,addSkillDialogState:!1,addSkillName:""}),a.props.dispatch(Ee(l)),a.openSnackbar("Skill ".concat(r," added to your 3Box profile"));case 23:case"end":return e.stop()}},e,this,[[9,15]])})),a.openAddSkillDialog=function(){a.setState({addSkillDialogState:!0})},a.closeAddSkillDialog=function(){a.setState({addSkillDialogState:!1})},a.openSnackbar=function(e){a.setState({snackbarMessage:e,snackbarOpenState:!0})},a.closeSnackbar=function(){a.setState({snackbarMessage:"",snackbarOpenState:!1})},a.openDeleteDialog=function(e){return function(){a.setState({deleteSkillDialogState:!0,deleteSkillEntity:e})}},a.closeDeleteDialog=function(){a.setState({deleteSkillDialogState:!1,deleteSkillEntity:void 0})},a.openSkillDialog=function(e){return function(){a.setState({openSkillDialogState:!0,skillOpened:e})}},a.closeSkillDialog=function(){a.setState({openSkillDialogState:!1,skillOpened:void 0})},a.deleteSkill=function(){var e=a.state,t=e.skills,n=e.deleteSkillEntity,r=t.findIndex(function(e){return n.name===e.name});if(-1!==r){var i=Xe.a.clone(t);i.splice(r,1),a.props.dispatch(Ee(i)),a.setState({deleteSkillDialogState:!1,deleteSkillEntity:void 0}),a.openSnackbar("Skill ".concat(n.name," deleted from your 3Box profile"))}},a.state={skills:"",propsSkills:"",addSkillName:"",addSkillDialogState:!1,addSkillError:!1,snackbarMessage:"",snackbarOpenState:!1,deleteSkillDialogState:!1,deleteSkillEntity:void 0,openSkillDialogState:!1,skillOpened:void 0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes;if(!t.is3BoxLoaded)return null;var n=this.state.deleteSkillEntity?this.state.deleteSkillEntity.name:"",r=this.state.skillOpened?this.state.skillOpened.name:"",o=this.state.skillOpened?Ve()(this.state.skillOpened.timeStamp).fromNow():"",s=this.props.profile3Box.attestations;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Ne()(a.containerWhite)},i.a.createElement("div",{className:a.mySkillsContainer},i.a.createElement(Ie.a,{open:this.state.addSkillDialogState,onClose:this.closeAddSkillDialog,"aria-labelledby":"form-dialog-title"},i.a.createElement(Me.a,{id:"form-dialog-title"},"Add new skill to your profile"),i.a.createElement(We.a,null,i.a.createElement(Oe.a,{error:this.state.addSkillError,autoFocus:!0,margin:"dense",id:"add-skill",label:"Skill",type:"text",fullWidth:!0,value:this.state.addSkillName,onChange:this.handleChange("addSkillName")}),i.a.createElement($.c,{variant:"caption"},"You will need to sign a message with your wallet")),i.a.createElement(Ue.a,null,i.a.createElement(x.a,{onClick:this.closeAddSkillDialog,variant:"outlined",color:"primary"},"Cancel"),i.a.createElement(x.a,{onClick:this.addSkill,variant:"raised",color:"primary"},"Add"))),i.a.createElement(Ie.a,{open:this.state.deleteSkillDialogState,onClose:this.closeDeleteDialog,"aria-labelledby":"form-dialog-delete-title"},i.a.createElement(Me.a,{id:"form-dialog-delete-title"},"Do you want to delete this skill?"),i.a.createElement(We.a,null,i.a.createElement($.c,{variant:"caption",gutterbottom:!0},"The skill ",n," is going to be deleted as well as the attestations associated to this skill."),i.a.createElement($.c,{variant:"caption"},"Are you sure you want to proceed?")),i.a.createElement(Ue.a,null,i.a.createElement(x.a,{onClick:this.closeAddSkillDialog,variant:"outlined",color:"primary"},"Cancel"),i.a.createElement(x.a,{onClick:this.deleteSkill,variant:"raised",color:"primary"},"Delete"))),i.a.createElement(Ie.a,{open:this.state.openSkillDialogState,onClose:this.closeSkillDialog,"aria-labelledby":"form-dialog-delete-title"},i.a.createElement(We.a,{className:Ne()(a.containerPadding,a.skillDialog)},i.a.createElement($.c,{variant:"headline"},"Skill: ",r),i.a.createElement($.c,{variant:"caption"},o),i.a.createElement(Ot,{skill:this.state.skillOpened}))),i.a.createElement(Je.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackbarOpenState,autoHideDuration:4e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:i.a.createElement("span",{id:"message-id"},this.state.snackbarMessage),action:[i.a.createElement(Qe.a,{key:"close","aria-label":"Close",className:a.close,onClick:this.closeSnackbar},i.a.createElement(et.a,null))]}),i.a.createElement($.c,{variant:"headline",gutterBottom:!0,className:a.containerPadding},"My Skills"),i.a.createElement(it.a,{className:Ne()(a.table,a.root)},i.a.createElement(ut.a,null,i.a.createElement(mt.a,null,i.a.createElement(ct.a,null,"Skill"),i.a.createElement(ct.a,null,"Added"),i.a.createElement(ct.a,null,"# of attestations"),i.a.createElement(ct.a,null))),i.a.createElement(st.a,null,this.state.skills.map(function(t){var a=s[t.name]?Object.keys(s[t.name]).length:0;return i.a.createElement(mt.a,{key:t.name},i.a.createElement(ct.a,{component:"th",scope:"row"},t.name),i.a.createElement(ct.a,null,Ve()(t.timeStamp).fromNow()),i.a.createElement(ct.a,null,a),i.a.createElement(ct.a,null,i.a.createElement(Ye.a,{title:"Request Attestations"},i.a.createElement(Qe.a,{color:"primary","aria-label":"Request Attestations",onClick:e.openSkillDialog(t)},i.a.createElement(at.a,null))),i.a.createElement(Ye.a,{title:"Delete Skill"},i.a.createElement(Qe.a,{color:"primary","aria-label":"Delete Skill",onClick:e.openDeleteDialog(t)},i.a.createElement(ht.a,null)))))}))),i.a.createElement(Ye.a,{title:"Add Skill"},i.a.createElement(x.a,{variant:"fab",color:"primary","aria-label":"Add",className:a.addSkillButton,onClick:this.openAddSkillDialog},i.a.createElement(Le.a,null))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.propsSkills!==e.profile3Box.skills&&(t.skills=e.profile3Box.skills,t.propsSkills=e.profile3Box.skill),t}}]),t}(r.Component);var Bt=Object(y.a)(Object(O.b)(function(e){return{web3Address:V(e),web3Provider:H(),is3BoxLoaded:le(e),profile3Box:ce(e)}})(Object(m.withStyles)(function(e){return{centerContainer:{textAlign:"center",padding:3*e.spacing.unit},button:{},textField:{width:"100%"},profileValue:{color:e.palette.text.secondary,paddingLeft:e.spacing.unit},rightContainer:{textAlign:"right"},avatarContainer:{display:"flex"},avatar:{width:80,height:80},dividerContainer:{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},drawerPaper:{position:"relative",width:180},mySkillsContainer:{position:"relative"},addSkillButton:{position:"absolute",top:2*e.spacing.unit,right:2*e.spacing.unit},close:{padding:e.spacing.unit/2},containerWhite:{backgroundColor:"white",marginBottom:3*e.spacing.unit},containerPadding:{paddingTop:3*e.spacing.unit,paddingBottom:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},addressContainer:{width:300},root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:640},openSkillContainer:{padding:0},skillDialog:{width:640}}})(At))),Ct=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.props.dispatch(ee())},a.load3Box=function(){a.props.dispatch(be(a.props.web3Address))},a.handleChange=function(e){return function(t){a.setState(Object(J.a)({},e,t.target.value))}},a.handleAvatarUploaded=function(e,t){a.setState({avatar:e})},a.update3BoxProfile=function(){var e=a.state,t=e.name,n=e.email,r=e.avatar;a.props.dispatch(ke(t,n,r))},a.state={name:"",email:"",avatar:"",propsName:"",propsEmail:"",propsAvatar:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.web3Address,n=e.is3BoxLoaded,r=this.state.name!==this.props.profile3Box.name||this.state.email!==this.props.profile3Box.email||this.state.avatar!==this.props.profile3Box.avatar,o=""!==this.state.avatar?this.state.avatar:"/assets/no-avatar2.svg";return n?i.a.createElement("div",null,i.a.createElement("div",{className:Ne()(t.containerWhite,t.containerPadding)},i.a.createElement(Te.a,{container:!0,justify:"space-between"},i.a.createElement(Te.a,{item:!0},i.a.createElement($.c,{variant:"headline",gutterBottom:!0},"Ethereum Profile"),i.a.createElement($.c,{gutterBottom:!0,className:t.addressContainer},"Address: ",i.a.createElement("span",{className:t.profileValue},a))),i.a.createElement(Te.a,{item:!0},i.a.createElement(Ce.a,{alt:this.state.name,src:o,className:t.avatar}),i.a.createElement(Ae.a,{fileUploadedCB:this.handleAvatarUploaded,caption:"Edit"}))),i.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},i.a.createElement(Oe.a,{id:"profile-name",label:"Name",value:this.state.name,onChange:this.handleChange("name"),margin:"normal",variant:"outlined",className:t.textField}),i.a.createElement(Oe.a,{id:"profile-email",label:"Email",value:this.state.email,onChange:this.handleChange("email"),margin:"normal",variant:"outlined",className:t.textField}),i.a.createElement("div",{className:t.centerContainer},i.a.createElement(x.a,{variant:"contained",color:"primary",className:t.button,onClick:this.update3BoxProfile,disabled:!r}," Update 3Box Profile")))),i.a.createElement(Bt,null)):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Ne()(t.containerWhite,t.containerPadding)},i.a.createElement($.c,{variant:"headline",gutterBottom:!0},"Ethereum Profile"),i.a.createElement($.c,{gutterBottom:!0},"Address: ",i.a.createElement("span",{className:t.profileValue},a)),i.a.createElement("div",{className:t.centerContainer},i.a.createElement(x.a,{variant:"contained",color:"primary",className:t.button,onClick:this.load3Box,disabled:""===a||void 0===a}," Load 3Box Profile"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.propsName!==e.profile3Box.name&&(t.name=e.profile3Box.name,t.propsName=e.profile3Box.name),t.propsEmail!==e.profile3Box.email&&(t.email=e.profile3Box.email,t.propsEmail=e.profile3Box.email),t.propsAvatar!==e.profile3Box.avatar&&(t.avatar=e.profile3Box.avatar,t.propsAvatar=e.profile3Box.avatar),t}}]),t}(r.Component);var jt=Object(y.a)(Object(O.b)(function(e){return{web3Address:V(e),web3Provider:H(),is3BoxLoaded:le(e),profile3Box:ce(e)}})(Object(m.withStyles)(function(e){return{centerContainer:{textAlign:"center",padding:3*e.spacing.unit},button:{},textField:{width:"100%"},profileValue:{color:e.palette.text.secondary,paddingLeft:e.spacing.unit},rightContainer:{textAlign:"right"},avatarContainer:{display:"flex"},avatar:{width:80,height:80},dividerContainer:{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},drawerPaper:{position:"relative",width:180},mySkillsContainer:{position:"relative"},addSkillButton:{position:"absolute",top:1*e.spacing.unit,right:1*e.spacing.unit},close:{padding:e.spacing.unit/2},containerWhite:{backgroundColor:"white",marginBottom:3*e.spacing.unit},containerPadding:{paddingTop:3*e.spacing.unit,paddingBottom:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},addressContainer:{width:300}}})(Ct))),Nt=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(Ie.a,{open:!0,"aria-labelledby":"loading-dialog-title","aria-describedby":"loading-dialog-description",disableBackdropClick:!0,disableEscapeKeyDown:!0},i.a.createElement(We.a,null,i.a.createElement("div",{className:e.container},i.a.createElement($.a,{className:e.progress,color:"secondary"}))))}}]),t}(r.Component);var Pt=Object(O.b)(function(e){return{}})(Object(m.withStyles)(function(e){return{container:{textAlign:"center",padding:4*e.spacing.unit}}})(Nt)),Tt=q()({isLoading:!1});function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case me:return e.merge({isLoading:!0});case fe:return e.merge({isLoading:!1});default:return e}}var Lt=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Te.a,{container:!0,justify:"center"},i.a.createElement(Te.a,{item:!0,xs:12,className:e.mainContainer},this.props.children),i.a.createElement(Te.a,{item:!0,xs:12,className:e.footer},i.a.createElement(k.a,{variant:"caption",align:"center"},"#buidl with ",i.a.createElement("span",{className:e.greenText},"\u2665")," at ETHSanFrancisco"))))}}]),t}(r.Component);var Ft=Object(O.b)(function(e){return{}})(Object(m.withStyles)(function(e){var t;return{mainContainer:(t={maxWidth:640},Object(J.a)(t,e.breakpoints.down("sm"),{marginTop:2*e.spacing.unit}),Object(J.a)(t,e.breakpoints.up("md"),{marginTop:2*e.spacing.unit}),Object(J.a)(t,"marginBottom",3*e.spacing.unit),t),footer:{paddingBottom:2*e.spacing.unit},greenText:{color:e.palette.primary.main}}})(Lt)),It=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.requestorAddress;a.props.dispatch(ee()),a.props.dispatch(Se(e))},a.load3Box=function(){a.props.dispatch(be(a.props.web3Address))},a.update3BoxProfile=function(){var e=a.state,t=e.name,n=e.email,r=e.avatar;a.props.dispatch(ke(t,n,r))},a.approveAttestation=Object(C.a)(B.a.mark(function e(){var t,n,r,i,o,s,l,c,p;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params,n=t.requestorAddress,r=t.skillName,i=t.skillTimeStamp,o=t.requestorEmail,s=(new Date).getTime(),l="I attest that user ".concat(a.props.publicProfile.name," (").concat(n,") has the following skill: ").concat(r," (").concat(i,"). Generated at ").concat(s),e.next=5,Object(nt.a)(a.props.web3Address,l);case 5:return c=e.sent,p=a.props.publicProfile.name,e.next=9,St(r,i,a.props.profile3Box.name,a.props.web3Address,n,decodeURIComponent(o),s,c,p);case 9:a.setState({isCompleted:!0});case 10:case"end":return e.stop()}},e,this)})),a.state={name:"",email:"",avatar:"",propsName:"",propsEmail:"",propsAvatar:"",isCompleted:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match.params,t=e.requestorAddress,a=e.skillName,n=e.skillSignature,r=e.requestorEmail,o=this.props,s=o.classes,l=o.web3Address,c=o.is3BoxLoaded;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Ne()(s.containerWhite,s.containerPadding)},i.a.createElement($.c,{variant:"headline",gutterBottom:!0},"You have been asked to send an attestation!"),i.a.createElement($.c,{variant:"subheading"},"Requestor Name: ",i.a.createElement("span",{className:s.textSecondary},this.props.publicProfile.name)),i.a.createElement($.c,{variant:"subheading"},"Requestor Email: ",i.a.createElement("span",{className:s.textSecondary},decodeURIComponent(r))),i.a.createElement($.c,{variant:"subheading",gutterBottom:!0},"Requestor Address: ",i.a.createElement("span",{className:s.textSecondary},t)),i.a.createElement($.c,{variant:"subheading"},"Skill: ",i.a.createElement("span",{className:s.textSecondary},a)),i.a.createElement($.c,{variant:"subheading",gutterBottom:!0},"Skill Signature: ",i.a.createElement("span",{className:Ne()(s.textSecondary,s.wrap)},n)),i.a.createElement($.c,{variant:"subheading"},"Your Address: ",i.a.createElement("span",{className:s.profileValue},l)),!c&&l!==t&&i.a.createElement("div",{className:s.centerContainer},i.a.createElement(x.a,{variant:"contained",color:"primary",className:s.button,onClick:this.load3Box,disabled:""===l},"Load 3Box Profile")),c&&i.a.createElement(i.a.Fragment,null,""!==this.props.profile3Box.name&&i.a.createElement($.c,{variant:"subheading"},"Your 3Box Name: ",i.a.createElement("span",{className:s.textSecondary},this.props.profile3Box.name)),""===this.props.profile3Box.name&&i.a.createElement($.c,{variant:"subheading"},"Your 3Box Name: ",i.a.createElement("a",{href:w.PROFILE()},"Create your profile")),!this.state.isCompleted&&i.a.createElement("div",{className:s.centerContainer},i.a.createElement(x.a,{variant:"contained",color:"primary",className:s.button,onClick:this.approveAttestation,disabled:""===l},"Approve Attestation")),this.state.isCompleted&&i.a.createElement($.c,{variant:"subheading",align:"center"},"Attestation sent!"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.propsName!==e.profile3Box.name&&(t.name=e.profile3Box.name,t.propsName=e.profile3Box.name),t.propsEmail!==e.profile3Box.email&&(t.email=e.profile3Box.email,t.propsEmail=e.profile3Box.email),t.propsAvatar!==e.profile3Box.avatar&&(t.avatar=e.profile3Box.avatar,t.propsAvatar=e.profile3Box.avatar),t}}]),t}(r.Component);var Rt=Object(y.a)(Object(O.b)(function(e){return{web3Address:V(e),web3Provider:H(),is3BoxLoaded:le(e),profile3Box:ce(e),publicProfile:pe(e)}})(Object(m.withStyles)(function(e){return{centerContainer:{textAlign:"center",padding:3*e.spacing.unit},button:{},textField:{width:"100%"},profileValue:{color:e.palette.text.secondary,paddingLeft:e.spacing.unit},rightContainer:{textAlign:"right"},avatarContainer:{display:"flex"},avatar:{width:80,height:80},dividerContainer:{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},drawerPaper:{position:"relative",width:180},mySkillsContainer:{position:"relative"},addSkillButton:{position:"absolute",top:1*e.spacing.unit,right:1*e.spacing.unit},close:{padding:e.spacing.unit/2},containerWhite:{backgroundColor:"white",marginBottom:3*e.spacing.unit},containerPadding:{paddingTop:3*e.spacing.unit,paddingBottom:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},addressContainer:{width:300},textSecondary:{color:e.palette.text.secondary},wrap:{wordWrap:"break-word"}}})(It))),Ut=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=Object(C.a)(B.a.mark(function e(){var t,n,r,i,o,s,l,c,p,u;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.attestorAddress,a.props.dispatch(ee()),a.props.dispatch(Se(t)),n=a.props.match.params,r=n.requestorAddress,i=n.skillName,o=n.attestationSignature,s=n.requesterName,l=n.skillTimeStamp,c=n.timeStamp,p="I attest that user ".concat(decodeURIComponent(s)," (").concat(r,") has the following skill: ").concat(i," (").concat(l,"). Generated at ").concat(c),e.next=7,Y(p,o,t);case 7:u=e.sent,a.setState({isValidSignature:u});case 9:case"end":return e.stop()}},e,this)})),a.load3Box=function(){a.props.dispatch(be(a.props.web3Address))},a.update3BoxProfile=function(){var e=a.state,t=e.name,n=e.email,r=e.avatar;a.props.dispatch(ke(t,n,r))},a.addAttestation=Object(C.a)(B.a.mark(function e(){var t,n,r,i,o,s;return B.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.match.params,n=t.skillName,r=t.skillTimeStamp,i=t.attestationSignature,o=t.attestorAddress,(s=Xe.a.cloneDeep(a.props.profile3Box.attestations))[n]||(s[n]={}),s[n][i]={skillName:n,skillTimeStamp:r,attestorAddress:o,acceptedDate:(new Date).getTime()},a.props.dispatch(xe(s)),a.setState({isCompleted:!0});case 6:case"end":return e.stop()}},e,this)})),a.state={name:"",email:"",avatar:"",propsName:"",propsEmail:"",propsAvatar:"",isCompleted:!1,isValidSignature:!0},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match.params,t=e.requestorAddress,a=e.skillName,n=e.attestationSignature,r=e.attestorAddress,o=this.props,s=o.classes,l=o.web3Address,c=o.is3BoxLoaded,p=this.state.isValidSignature;return console.log("valid:"+p),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Ne()(s.containerWhite,s.containerPadding)},i.a.createElement($.c,{variant:"headline",gutterBottom:!0},"You have been attested!"),i.a.createElement($.c,{variant:"subheading"},"Attestor Name: ",i.a.createElement("span",{className:s.textSecondary},this.props.publicProfile.name)),i.a.createElement($.c,{variant:"subheading"},"Attestor Address: ",i.a.createElement("span",{className:s.textSecondary},r)),i.a.createElement($.c,{variant:"subheading"},"Skill: ",i.a.createElement("span",{className:s.textSecondary},a)),i.a.createElement($.c,{variant:"subheading",gutterBottom:!0},"Attestation Signature: ",i.a.createElement("span",{className:Ne()(s.textSecondary,s.wrap)},n)),!p&&i.a.createElement($.c,{align:"center",className:s.error},"Signature not valid!!!"),p&&!c&&l===t&&i.a.createElement("div",{className:s.centerContainer},i.a.createElement(x.a,{variant:"contained",color:"primary",className:s.button,onClick:this.load3Box,disabled:""===l},"Load 3Box Profile")),p&&c&&i.a.createElement(i.a.Fragment,null,""!==this.props.profile3Box.name&&i.a.createElement($.c,{variant:"subheading"},"Your 3Box Name: ",i.a.createElement("span",{className:s.textSecondary},this.props.profile3Box.name)),""===this.props.profile3Box.name&&i.a.createElement($.c,{variant:"subheading"},"Your 3Box Name: ",i.a.createElement("a",{href:w.PROFILE()},"Create your profile")),!this.state.isCompleted&&i.a.createElement("div",{className:s.centerContainer},i.a.createElement(x.a,{variant:"contained",color:"primary",className:s.button,onClick:this.addAttestation,disabled:""===l},"Add Attestation to 3Box Profile")),this.state.isCompleted&&i.a.createElement(i.a.Fragment,null,i.a.createElement($.c,{variant:"subheading",align:"center"},"Attestation stored on 3Box!"),i.a.createElement("a",{href:w.PUBLIC_PROFILE(l)},"Open public profile")))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.propsName!==e.profile3Box.name&&(t.name=e.profile3Box.name,t.propsName=e.profile3Box.name),t.propsEmail!==e.profile3Box.email&&(t.email=e.profile3Box.email,t.propsEmail=e.profile3Box.email),t.propsAvatar!==e.profile3Box.avatar&&(t.avatar=e.profile3Box.avatar,t.propsAvatar=e.profile3Box.avatar),t}}]),t}(r.Component);var qt=Object(y.a)(Object(O.b)(function(e){return{web3Address:V(e),web3Provider:H(),is3BoxLoaded:le(e),profile3Box:ce(e),publicProfile:pe(e)}})(Object(m.withStyles)(function(e){return{centerContainer:{textAlign:"center",padding:3*e.spacing.unit},button:{},textField:{width:"100%"},profileValue:{color:e.palette.text.secondary,paddingLeft:e.spacing.unit},rightContainer:{textAlign:"right"},avatarContainer:{display:"flex"},avatar:{width:80,height:80},dividerContainer:{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},drawerPaper:{position:"relative",width:180},mySkillsContainer:{position:"relative"},addSkillButton:{position:"absolute",top:1*e.spacing.unit,right:1*e.spacing.unit},close:{padding:e.spacing.unit/2},containerWhite:{backgroundColor:"white",marginBottom:3*e.spacing.unit},containerPadding:{paddingTop:3*e.spacing.unit,paddingBottom:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},addressContainer:{width:300},textSecondary:{color:e.palette.text.secondary},wrap:{wordWrap:"break-word"},error:{color:"red"}}})(Ut))),Wt=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(p.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.address;a.props.dispatch(ee()),a.props.dispatch(Se(e))},a.load3Box=function(){a.props.dispatch(be(a.props.web3Address))},a.update3BoxProfile=function(){var e=a.state,t=e.name,n=e.email,r=e.avatar;a.props.dispatch(ke(t,n,r))},a.state={name:"",email:"",avatar:"",propsName:"",propsEmail:"",propsAvatar:"",isCompleted:!1},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.match.params.address,t=this.props.publicProfile,a=t.name,n=t.attestations;if(!n)return null;var r=Object.keys(n),o=this.props.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Ne()(o.containerWhite,o.containerPadding)},i.a.createElement($.c,{variant:"headline",gutterBottom:!0,align:"center"},"Public Profile"),i.a.createElement($.c,{variant:"subheading"},"Name: ",i.a.createElement("span",{className:o.textSecondary},a)),i.a.createElement($.c,{variant:"subheading",gutterBottom:!0},"Address: ",i.a.createElement("span",{className:o.textSecondary},e)),r.map(function(e){return i.a.createElement(i.a.Fragment,{key:e},i.a.createElement($.c,{variant:"title"},e),i.a.createElement($.c,{variant:"caption"},"Attested by:"),Object.values(n[e]).map(function(e){return i.a.createElement($.c,{variant:"caption",key:e.attestorAddress},"- ",e.attestorAddress)}))})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.propsName!==e.profile3Box.name&&(t.name=e.profile3Box.name,t.propsName=e.profile3Box.name),t.propsEmail!==e.profile3Box.email&&(t.email=e.profile3Box.email,t.propsEmail=e.profile3Box.email),t.propsAvatar!==e.profile3Box.avatar&&(t.avatar=e.profile3Box.avatar,t.propsAvatar=e.profile3Box.avatar),t}}]),t}(r.Component);var _t=Object(y.a)(Object(O.b)(function(e){return{web3Address:V(e),web3Provider:H(),is3BoxLoaded:le(e),profile3Box:ce(e),publicProfile:pe(e)}})(Object(m.withStyles)(function(e){return{centerContainer:{textAlign:"center",padding:3*e.spacing.unit},button:{},textField:{width:"100%"},profileValue:{color:e.palette.text.secondary,paddingLeft:e.spacing.unit},rightContainer:{textAlign:"right"},avatarContainer:{display:"flex"},avatar:{width:80,height:80},dividerContainer:{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},drawerPaper:{position:"relative",width:180},mySkillsContainer:{position:"relative"},addSkillButton:{position:"absolute",top:1*e.spacing.unit,right:1*e.spacing.unit},close:{padding:e.spacing.unit/2},containerWhite:{backgroundColor:"white",marginBottom:3*e.spacing.unit},containerPadding:{paddingTop:3*e.spacing.unit,paddingBottom:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},addressContainer:{width:300},textSecondary:{color:e.palette.text.secondary},wrap:{wordWrap:"break-word"}}})(Wt))),Mt=Object(m.createMuiTheme)({overrides:{MuiTableCell:{root:{padding:"4px 16px 4px 16px"}}}}),Gt=function(e){function t(){return Object(l.a)(this,t),Object(p.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X.a,null,i.a.createElement(m.MuiThemeProvider,{theme:Mt},i.a.createElement("div",{className:"App"},this.props.isLoading&&i.a.createElement(Pt,null),i.a.createElement(z,null),i.a.createElement(Ft,null,i.a.createElement(K.a,{exact:!0,path:w.HOME(),component:jt}),i.a.createElement(K.a,{exact:!0,path:w.PROFILE(),component:jt}),i.a.createElement(K.a,{exact:!0,path:w.ATTEST(),component:Rt}),i.a.createElement(K.a,{exact:!0,path:w.ACCEPT_ATTESTATION(),component:qt}),i.a.createElement(K.a,{exact:!0,path:w.PUBLIC_PROFILE(),component:_t}))))))}}]),t}(r.Component);var Vt=Object(O.b)(function(e){return{isLoading:function(e){return e.globalApp.isLoading}(e)}})(Object(m.withStyles)(function(e){return{mainContainer:{maxWidth:640}}})(Gt));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ht=a(586),Yt=a(137),zt=a(587),Xt="undefined"===typeof window?Object(Yt.createStore)(Object(Yt.combineReducers)(n),Object(zt.composeWithDevTools)(Object(Yt.applyMiddleware)(Ht.a))):(window.store||(window.store=Object(Yt.createStore)(Object(Yt.combineReducers)(n),Object(zt.composeWithDevTools)(Object(Yt.applyMiddleware)(Ht.a)))),window.store);s.a.render(i.a.createElement(O.a,{store:Xt},i.a.createElement(Vt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},406:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var n=function(t,a){var n=["0x"+e.from(a,"utf8").toString("hex"),t];return new Promise(function(e,a){window.web3.currentProvider.sendAsync({method:"personal_sign",params:n,userAddress:t},function(t,n){t&&a(t),n.error&&a(n.error),e(n.result)})})}}).call(this,a(0).Buffer)},585:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return r}),a.d(t,"b",function(){return i});var n=a(2545),r=function(){return new n({host:"ipfs.infura.io",port:5001,protocol:"https"})},i=function(e){return"https://ipfs.infura.io/ipfs/"+e}}).call(this,a(0).Buffer)},796:function(e,t){}},[[1157,2,1]]]);
//# sourceMappingURL=main.ab5aa744.chunk.js.map