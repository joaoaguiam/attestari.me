(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1150:function(e,t,a){e.exports=a(2776)},1155:function(e,t,a){},1251:function(e,t){},1253:function(e,t){},1277:function(e,t){},1293:function(e,t){},1295:function(e,t){},1326:function(e,t){},1456:function(e,t){},1467:function(e,t){},1500:function(e,t){},1633:function(e,t){},1635:function(e,t){},1795:function(e,t){},1832:function(e,t){},1878:function(e,t){},1991:function(e,t){},2015:function(e,t){},2049:function(e,t){},2055:function(e,t){},2057:function(e,t){},2081:function(e,t){},2111:function(e,t){},2122:function(e,t){},2124:function(e,t){},2130:function(e,t){},2132:function(e,t){},2138:function(e,t){},2162:function(e,t){},2196:function(e,t){},2233:function(e,t){},2323:function(e,t){},2334:function(e,t){},2336:function(e,t){},2362:function(e,t){},2376:function(e,t){},2378:function(e,t){},2381:function(e,t){},2423:function(e,t){},2458:function(e,t){},2460:function(e,t){},2471:function(e,t){},2531:function(e,t){},2536:function(e,t){},2538:function(e,t){},2542:function(e,t){},2544:function(e,t){},2548:function(e,t){},2549:function(e,t){},2553:function(e,t){},2555:function(e,t){},2561:function(e,t){},2563:function(e,t){},2572:function(e,t){},2574:function(e,t){},2776:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"globalApp",function(){return de}),a.d(n,"profile3Box",function(){return ne}),a.d(n,"web3",function(){return Y});var r=a(1),i=a.n(r),o=a(73),l=a.n(o),c=(a(1155),a(83)),s=a(84),u=a(87),d=a(85),p=a(88),m=a(41),f=a(398),h=a.n(f),b=a(399),g=a.n(b),v=a(163),k=a.n(v);var w=Object(m.withStyles)({root:{flexGrow:1},grow:{flexGrow:1},menuButton:{marginLeft:-12,marginRight:20}})(function(e){var t=e.classes;return i.a.createElement("div",{className:t.root},i.a.createElement(h.a,{position:"static"},i.a.createElement(g.a,null,i.a.createElement(k.a,{variant:"title",color:"inherit",className:t.grow},"Atestari.me"))))}),E=a(86),S=a(2780),y=a(2779),x=function(){return"/"},O=function(){return"/profile"},j=a(65),B=a(2781),C=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement("div",{className:e.homeContainer},i.a.createElement(j.c,{variant:"display3",align:"center"},"P2P Attestations Network"))}}]),t}(r.Component);Object(B.a)(Object(E.b)(function(e){return{}})(Object(m.withStyles)(function(e){return{homeContainer:{paddingTop:50}}})(C)));var A=a(166),N=a(74),D=a.n(N),T=a(24),L=a.n(T),P=a(66),F=a(150),I=a.n(F),W=(a(1222),"web3.ACCOUNT_CHANGED"),U="web3.ACCOUNTS_LOADED",_="web3.NETWORK_CHANGED",M="web3.BALANCE_UPDATED",G="web3.WEB3_LOCKED",R="web3.WEB3_UNLOCKED",H="web3.WEB3_INSTALLED",K="web3.TX_STATUS_UPDATED",V="web3.RESET_LAST_TX",z=a(240),X=a.n(z),J=X()({accounts:[],selectedAccount:void 0,networkId:-1,balance:void 0,web3kLocked:!0,web3Installed:!1,lastTransation:void 0,web3Provider:void 0});function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case U:return e.merge({accounts:t.accounts});case W:return e.merge({selectedAccount:t.selectedAccount,isLocked:void 0!=t.selectedAccount});case _:return e.merge({networkId:t.networkId});case M:return e.merge({balance:t.balance});case G:return e.merge({web3kLocked:!0});case R:return e.merge({web3kLocked:!1});case H:return e.merge({web3Installed:!0});case K:return e.merge({lastTransation:{txHash:t.txHash,txStatus:t.txStatus}});case V:return e.merge({lastTransation:void 0});default:return e}}function $(e){return e.web3.selectedAccount}function q(){return window.web3.currentProvider}var Q=function(e){window.web3.eth.getAccounts(function(t,a){if(t)console.log(t),e({type:U,accounts:[]});else if(a){var n=a.length>0?a[0]:void 0;e({type:U,accounts:a}),e({type:W,selectedAccount:n}),n?(e({type:R}),window.web3.eth.getBalance(n,function(t,a){var n=Number(a);e({type:M,balance:n})})):e({type:G})}else e({type:U,accounts:[]}),e({type:G})})},Z=function(e){window.web3.version.getNetwork(function(t,a){t?(console.log(t),e({type:_,networkId:-1})):e({type:_,networkId:a})})};var ee="3box.LOADED_3BOX",te="3box.SKILLS_UPDATED",ae=X()({isLoaded:!1,address:"",name:"",email:"",avatar:"",skills:[]});function ne(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case ee:return e.merge({name:t.name,email:t.email,avatar:t.avatar,address:t.address,skills:t.skills,isLoaded:!0});case te:return e.merge({skills:t.skills});default:return e}}function re(e){return e.profile3Box.isLoaded}function ie(e){var t=e.profile3Box;return{name:t.name,email:t.email,avatar:t.avatar,skills:t.skills,address:t.address}}var oe=a(1093),le=a.n(oe),ce="globalApp.SET_LOADING",se="globalApp.UNSET_LOADING",ue=X()({isLoading:!1});function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue;switch((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type){case ce:return e.merge({isLoading:!0});case se:return e.merge({isLoading:!1});default:return e}}function pe(){return function(){var e=Object(P.a)(L.a.mark(function e(t,a){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ce});case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}function me(){return function(){var e=Object(P.a)(L.a.mark(function e(t,a){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:se});case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()}var fe=void 0;function he(e){return function(){var t=Object(P.a)(L.a.mark(function t(a,n){return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,void 0!==fe){t.next=3;break}throw new Error("No 3Box available");case 3:return a(pe()),t.next=6,fe.public.set("skills",e);case 6:a({type:te,skills:e}),a(me()),t.next=13;break;case 10:throw t.prev=10,t.t0=t.catch(0),t.t0;case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(e,a){return t.apply(this,arguments)}}()}var be=a(183),ge=a.n(be),ve=a(584),ke=a(300),we=a.n(ke),Ee=a(404),Se=a.n(Ee),ye=a(585),xe=a(25),Oe=a.n(xe),je=a(108),Be=a.n(je),Ce=a(587),Ae=a.n(Ce),Ne=a(164),De=a.n(Ne),Te=a(238),Le=a.n(Te),Pe=a(165),Fe=a.n(Pe),Ie=a(237),We=a.n(Ie),Ue=a(239),_e=a.n(Ue),Me=a(299),Ge=a.n(Me),Re=a(182),He=a.n(Re),Ke=a(586),Ve=a.n(Ke),ze=a(400),Xe=a.n(ze),Je=a(402),Ye=a.n(Je),$e=a(124),qe=a.n($e),Qe=a(401),Ze=a.n(Qe),et=a(301),tt=a.n(et),at=a(1094),nt=a.n(at),rt=0;function it(e,t,a,n,r){return{id:rt+=1,name:e,calories:t,fat:a,carbs:n,protein:r}}it("Frozen yoghurt",159,6,24,4),it("Ice cream sandwich",237,9,37,4.3),it("Eclair",262,16,24,6),it("Cupcake",305,3.7,67,4.3),it("Gingerbread",356,16,49,3.9);var ot=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(A.a)({},e,t.target.value))}},a.addSkill=Object(P.a)(L.a.mark(function e(){var t,n,r,i,o,l,c;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state,n=t.skills,r=t.addSkillName,-1===n.findIndex(function(e){return e.name===r})){e.next=6;break}return a.openSnackbar("Skill ".concat(r," already exists")),a.setState({addSkillError:!0}),e.abrupt("return");case 6:return i=(new Date).getTime(),o="Skill:'".concat(r,"':Timestamp:'").concat(i,"'"),l="",e.prev=9,e.next=12,Object(ye.a)(a.props.web3Address,o);case 12:l=e.sent,e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(9),e.abrupt("return");case 18:(c=I.a.clone(n)).push({name:r,timeStamp:Se()().valueOf(),message:o,signature:l}),a.setState({skills:c,addSkillDialogState:!1,addSkillName:""}),a.props.dispatch(he(c)),a.openSnackbar("Skill ".concat(r," added to your 3Box profile"));case 23:case"end":return e.stop()}},e,this,[[9,15]])})),a.openAddSkillDialog=function(){a.setState({addSkillDialogState:!0})},a.closeAddSkillDialog=function(){a.setState({addSkillDialogState:!1})},a.openSnackbar=function(e){a.setState({snackbarMessage:e,snackbarOpenState:!0})},a.closeSnackbar=function(e){a.setState({snackbarMessage:"",snackbarOpenState:!1})},a.openDeleteDialog=function(e){return function(){a.setState({deleteSkillDialogState:!0,deleteSkillEntity:e})}},a.closeDeleteDialog=function(e){a.setState({deleteSkillDialogState:!1,deleteSkillEntity:void 0})},a.deleteSkill=function(){var e=a.state,t=e.skills,n=e.deleteSkillEntity,r=t.findIndex(function(e){return n.name===e.name});if(-1!==r){var i=I.a.clone(t);i.splice(r,1),a.props.dispatch(he(i)),a.setState({deleteSkillDialogState:!1,deleteSkillEntity:void 0}),a.openSnackbar("Skill ".concat(n.name," deleted from your 3Box profile"))}},a.state={skills:"",propsSkills:"",addSkillName:"",addSkillDialogState:!1,addSkillError:!1,snackbarMessage:"",snackbarOpenState:!1,deleteSkillDialogState:!1,deleteSkillEntity:void 0},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes;t.web3Address;if(!t.is3BoxLoaded)return null;var n=this.state.deleteSkillEntity?this.state.deleteSkillEntity.name:"";return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Oe()(a.containerWhite)},i.a.createElement("div",{className:a.mySkillsContainer},i.a.createElement(De.a,{open:this.state.addSkillDialogState,onClose:this.closeAddSkillDialog,"aria-labelledby":"form-dialog-title"},i.a.createElement(We.a,{id:"form-dialog-title"},"Add new skill to your profile"),i.a.createElement(Fe.a,null,i.a.createElement(ge.a,{error:this.state.addSkillError,autoFocus:!0,margin:"dense",id:"add-skill",label:"Skill",type:"text",fullWidth:!0,value:this.state.addSkillName,onChange:this.handleChange("addSkillName")}),i.a.createElement(j.c,{variant:"caption"},"You will need to sign a message with your wallet")),i.a.createElement(Le.a,null,i.a.createElement(D.a,{onClick:this.closeAddSkillDialog,variant:"outlined",color:"primary"},"Cancel"),i.a.createElement(D.a,{onClick:this.addSkill,variant:"raised",color:"primary"},"Add"))),i.a.createElement(De.a,{open:this.state.deleteSkillDialogState,onClose:this.closeDeleteDialog,"aria-labelledby":"form-dialog-delete-title"},i.a.createElement(We.a,{id:"form-dialog-delete-title"},"Do you want to delete this skill?"),i.a.createElement(Fe.a,null,i.a.createElement(j.c,{variant:"caption",gutterbottom:!0},"The skill ",n," is going to be deleted as well as the attestations associated to this skill."),i.a.createElement(j.c,{variant:"caption"},"Are you sure you want to proceed?")),i.a.createElement(Le.a,null,i.a.createElement(D.a,{onClick:this.closeAddSkillDialog,variant:"outlined",color:"primary"},"Cancel"),i.a.createElement(D.a,{onClick:this.deleteSkill,variant:"raised",color:"primary"},"Delete"))),i.a.createElement(Ge.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackbarOpenState,autoHideDuration:4e3,onClose:this.closeSnackbar,ContentProps:{"aria-describedby":"message-id"},message:i.a.createElement("span",{id:"message-id"},this.state.snackbarMessage),action:[i.a.createElement(He.a,{key:"close","aria-label":"Close",className:a.close,onClick:this.closeSnackbar},i.a.createElement(Ve.a,null))]}),i.a.createElement(j.c,{variant:"headline",gutterBottom:!0,className:a.containerPadding},"My Skills"),i.a.createElement(Xe.a,{className:Oe()(a.table,a.root)},i.a.createElement(Ze.a,null,i.a.createElement(tt.a,null,i.a.createElement(qe.a,null,"Skill"),i.a.createElement(qe.a,null,"Date Added"),i.a.createElement(qe.a,null,"# of attestations"),i.a.createElement(qe.a,null))),i.a.createElement(Ye.a,null,this.state.skills.map(function(t){return i.a.createElement(tt.a,{key:t.name},i.a.createElement(qe.a,{component:"th",scope:"row"},t.name),i.a.createElement(qe.a,null,Se()(t.timeStamp).fromNow()),i.a.createElement(qe.a,null,"??/??"),i.a.createElement(qe.a,null,i.a.createElement(_e.a,{title:"Delete Skill"},i.a.createElement(He.a,{color:"primary",className:a.button,"aria-label":"Delete Skill",onClick:e.openDeleteDialog(t)},i.a.createElement(nt.a,null)))))}))),i.a.createElement(_e.a,{title:"Add Skill"},i.a.createElement(D.a,{variant:"fab",color:"primary","aria-label":"Add",className:a.addSkillButton,onClick:this.openAddSkillDialog},i.a.createElement(Ae.a,null))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.propsSkills!==e.profile3Box.skills&&(t.skills=e.profile3Box.skills,t.propsSkills=e.profile3Box.skill),t}}]),t}(r.Component);var lt=Object(B.a)(Object(E.b)(function(e){return{web3Address:$(e),web3Provider:q(),is3BoxLoaded:re(e),profile3Box:ie(e)}})(Object(m.withStyles)(function(e){return{centerContainer:{textAlign:"center",padding:3*e.spacing.unit},button:{},textField:{width:"100%"},profileValue:{color:e.palette.text.secondary,paddingLeft:e.spacing.unit},rightContainer:{textAlign:"right"},avatarContainer:{display:"flex"},avatar:{width:80,height:80},dividerContainer:{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},drawerPaper:{position:"relative",width:180},mySkillsContainer:{position:"relative"},addSkillButton:{position:"absolute",top:2*e.spacing.unit,right:2*e.spacing.unit},close:{padding:e.spacing.unit/2},containerWhite:{backgroundColor:"white",marginBottom:3*e.spacing.unit},containerPadding:{paddingTop:3*e.spacing.unit,paddingBottom:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},addressContainer:{width:300},root:{width:"100%",marginTop:3*e.spacing.unit,overflowX:"auto"},table:{minWidth:640}}})(ot))),ct=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.props.dispatch(function(){var e=Object(P.a)(L.a.mark(function e(t,a){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:try{window.web3&&(a().web3.libraryInitialized||(Q(t),Z(t),t({type:H}),window.web3.currentProvider.publicConfigStore.on("update",function(){Q(t),Z(t)})))}catch(n){console.error(n)}case 1:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},a.load3Box=function(){var e;a.props.dispatch((e=a.props.web3Address,function(){var t=Object(P.a)(L.a.mark(function t(a,n){var r,i,o,l;return L.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a(pe()),t.next=4,le.a.openBox(e,q());case 4:return fe=t.sent,t.next=7,fe.public.get("name");case 7:return r=t.sent,t.next=10,fe.private.get("email");case 10:return i=t.sent,t.next=13,fe.public.get("avatar");case 13:return o=t.sent,t.next=16,fe.public.get("skills");case 16:l=t.sent,a({type:ee,name:r=r||"",email:i=i||"",avatar:o=o||"",skills:l=l||[],address:e}),a(function(){var e=Object(P.a)(L.a.mark(function e(t,a){var n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,void 0!==fe){e.next=3;break}throw new Error("No 3Box available");case 3:return t(pe()),e.next=6,fe.public.get("skills");case 6:(n=e.sent)||(n=[]),t({type:te,skills:n}),t(me()),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(0),e.t0;case 15:case"end":return e.stop()}},e,this,[[0,12]])}));return function(t,a){return e.apply(this,arguments)}}()),a(me()),t.next=29;break;case 26:throw t.prev=26,t.t0=t.catch(0),t.t0;case 29:case"end":return t.stop()}},t,this,[[0,26]])}));return function(e,a){return t.apply(this,arguments)}}()))},a.handleChange=function(e){return function(t){a.setState(Object(A.a)({},e,t.target.value))}},a.handleAvatarUploaded=function(e,t){a.setState({avatar:e})},a.update3BoxProfile=function(){var e=a.state,t=e.name,n=e.email,r=e.avatar;a.props.dispatch(function(e,t,a){return function(){var n=Object(P.a)(L.a.mark(function n(r,i){var o;return L.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,void 0!==fe){n.next=3;break}throw new Error("No 3Box available");case 3:return r(pe()),o=ie(i()).address,n.next=7,fe.public.set("name",e);case 7:return n.next=9,fe.public.set("avatar",a);case 9:return n.next=11,fe.private.set("email",t);case 11:r({type:ee,name:e,email:t,avatar:a,address:o}),r(me()),n.next=18;break;case 15:throw n.prev=15,n.t0=n.catch(0),n.t0;case 18:case"end":return n.stop()}},n,this,[[0,15]])}));return function(e,t){return n.apply(this,arguments)}}()}(t,n,r))},a.state={name:"",email:"",avatar:"",propsName:"",propsEmail:"",propsAvatar:""},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.web3Address,n=e.is3BoxLoaded,r=this.state.name!==this.props.profile3Box.name||this.state.email!==this.props.profile3Box.email||this.state.avatar!==this.props.profile3Box.avatar,o=""!==this.state.avatar?this.state.avatar:"/assets/no-avatar2.svg";return n?i.a.createElement("div",null,i.a.createElement("div",{className:Oe()(t.containerWhite,t.containerPadding)},i.a.createElement(Be.a,{container:!0,justify:"space-between"},i.a.createElement(Be.a,{item:!0},i.a.createElement(j.c,{variant:"headline",gutterBottom:!0},"Ethereum Profile"),i.a.createElement(j.c,{gutterBottom:!0,noWrap:!0,className:t.addressContainer},"Address: ",i.a.createElement("span",{className:t.profileValue},a))),i.a.createElement(Be.a,{item:!0},i.a.createElement(we.a,{alt:this.state.name,src:o,className:t.avatar}),i.a.createElement(ve.a,{fileUploadedCB:this.handleAvatarUploaded,caption:"Edit"}))),i.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},i.a.createElement(ge.a,{id:"profile-name",label:"Name",value:this.state.name,onChange:this.handleChange("name"),margin:"normal",variant:"outlined",className:t.textField}),i.a.createElement(ge.a,{id:"profile-email",label:"Email",value:this.state.email,onChange:this.handleChange("email"),margin:"normal",variant:"outlined",className:t.textField}),i.a.createElement("div",{className:t.centerContainer},i.a.createElement(D.a,{variant:"contained",color:"primary",className:t.button,onClick:this.update3BoxProfile,disabled:!r}," Update 3Box Profile")))),i.a.createElement(lt,null)):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:Oe()(t.containerWhite,t.containerPadding)},i.a.createElement(j.c,{variant:"headline",gutterBottom:!0},"3Box Profile"),i.a.createElement(j.c,{gutterBottom:!0},"Address: ",i.a.createElement("span",{className:t.profileValue},a)),i.a.createElement("div",{className:t.centerContainer},i.a.createElement(D.a,{variant:"contained",color:"primary",className:t.button,onClick:this.load3Box,disabled:""===a}," Load 3Box Profile"))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.propsName!==e.profile3Box.name&&(t.name=e.profile3Box.name,t.propsName=e.profile3Box.name),t.propsEmail!==e.profile3Box.email&&(t.email=e.profile3Box.email,t.propsEmail=e.profile3Box.email),t.propsAvatar!==e.profile3Box.avatar&&(t.avatar=e.profile3Box.avatar,t.propsAvatar=e.profile3Box.avatar),t}}]),t}(r.Component);var st=Object(B.a)(Object(E.b)(function(e){return{web3Address:$(e),web3Provider:q(),is3BoxLoaded:re(e),profile3Box:ie(e)}})(Object(m.withStyles)(function(e){return{centerContainer:{textAlign:"center",padding:3*e.spacing.unit},button:{},textField:{width:"100%"},profileValue:{color:e.palette.text.secondary,paddingLeft:e.spacing.unit},rightContainer:{textAlign:"right"},avatarContainer:{display:"flex"},avatar:{width:80,height:80},dividerContainer:{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit},drawerPaper:{position:"relative",width:180},mySkillsContainer:{position:"relative"},addSkillButton:{position:"absolute",top:1*e.spacing.unit,right:1*e.spacing.unit},close:{padding:e.spacing.unit/2},containerWhite:{backgroundColor:"white",marginBottom:3*e.spacing.unit},containerPadding:{paddingTop:3*e.spacing.unit,paddingBottom:3*e.spacing.unit,paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit},addressContainer:{width:300}}})(ct))),ut=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(De.a,{open:!0,"aria-labelledby":"loading-dialog-title","aria-describedby":"loading-dialog-description",disableBackdropClick:!0,disableEscapeKeyDown:!0},i.a.createElement(Fe.a,null,i.a.createElement("div",{className:e.container},i.a.createElement(j.a,{className:e.progress,color:"secondary"}))))}}]),t}(r.Component);var dt=Object(E.b)(function(e){return{}})(Object(m.withStyles)(function(e){return{container:{textAlign:"center",padding:4*e.spacing.unit}}})(ut)),pt=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Be.a,{container:!0,justify:"center"},i.a.createElement(Be.a,{item:!0,xs:12,className:e.mainContainer},this.props.children),i.a.createElement(Be.a,{item:!0,xs:12,className:e.footer},i.a.createElement(k.a,{variant:"caption",align:"center"},"#buidl with ",i.a.createElement("span",{className:e.greenText},"\u2665")," at ETHSanFrancisco"))))}}]),t}(r.Component);var mt=Object(E.b)(function(e){return{}})(Object(m.withStyles)(function(e){var t;return{mainContainer:(t={maxWidth:640},Object(A.a)(t,e.breakpoints.down("sm"),{marginTop:2*e.spacing.unit}),Object(A.a)(t,e.breakpoints.up("md"),{marginTop:2*e.spacing.unit}),Object(A.a)(t,"marginBottom",3*e.spacing.unit),t),footer:{paddingBottom:2*e.spacing.unit},greenText:{color:e.palette.primary.main}}})(pt)),ft=Object(m.createMuiTheme)({}),ht=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){this.props.classes;return i.a.createElement(i.a.Fragment,null,i.a.createElement(S.a,null,i.a.createElement(m.MuiThemeProvider,{theme:ft},i.a.createElement("div",{className:"App"},this.props.isLoading&&i.a.createElement(dt,null),i.a.createElement(w,null),i.a.createElement(mt,null,i.a.createElement(y.a,{exact:!0,path:x(),component:st}),i.a.createElement(y.a,{exact:!0,path:O(),component:st}))))))}}]),t}(r.Component);var bt=Object(E.b)(function(e){return{isLoading:function(e){return e.globalApp.isLoading}(e)}})(Object(m.withStyles)(function(e){return{mainContainer:{maxWidth:640}}})(ht));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var gt=a(589),vt=a(134),kt=a(590),wt="undefined"===typeof window?Object(vt.createStore)(Object(vt.combineReducers)(n),Object(kt.composeWithDevTools)(Object(vt.applyMiddleware)(gt.a))):(window.store||(window.store=Object(vt.createStore)(Object(vt.combineReducers)(n),Object(kt.composeWithDevTools)(Object(vt.applyMiddleware)(gt.a)))),window.store);l.a.render(i.a.createElement(E.a,{store:wt},i.a.createElement(bt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},584:function(e,t,a){"use strict";(function(e){var n=a(24),r=a.n(n),i=a(66),o=a(83),l=a(84),c=a(87),s=a(85),u=a(88),d=a(151),p=a(1),m=a.n(p),f=a(588),h=a(41),b=a(74),g=a.n(b),v=a(65),k=function(t){function a(t){var n;return Object(o.a)(this,a),(n=Object(c.a)(this,Object(s.a)(a).call(this,t))).convertToBuffer=function(){var t=Object(i.a)(r.a.mark(function t(a){var i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("on convertToBuffer"),t.next=3,e.from(a.result);case 3:return i=t.sent,console.log(i),t.next=7,n.setState({buffer:i});case 7:console.log("finished convertToBuffer");case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),n.captureFile=n.captureFile.bind(Object(d.a)(Object(d.a)(n))),n.convertToBuffer=n.convertToBuffer.bind(Object(d.a)(Object(d.a)(n))),n.uploadFile=n.uploadFile.bind(Object(d.a)(Object(d.a)(n))),n.state={url:"",buffer:void 0,ipfsHash:void 0,status:void 0,fileName:""===n.props.value?n.props.placeholder:n.props.value},n}return Object(u.a)(a,t),Object(l.a)(a,[{key:"captureFile",value:function(e){var t=this;console.log("on captureFile"),e.stopPropagation(),e.preventDefault();var a=e.target.files[0];console.log(a);var n=new window.FileReader;this.setState({fileName:a.name}),n.readAsArrayBuffer(a),n.onloadend=Object(i.a)(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.convertToBuffer(n);case 2:t.uploadFile();case 3:case"end":return e.stop()}},e,this)}))}},{key:"uploadFile",value:function(){var e=this;console.log("on uploadFile");var t=Object(f.a)();console.log(t),console.log(this.state),this.setState({status:"UPLOADING"}),t.add(this.state.buffer,function(t,a){console.log(t,a);var n=a[0].hash,r=Object(f.b)(n);e.setState({hash:n,url:r,status:"UPLOADED"}),e.props.fileUploadedCB(r,n)})}},{key:"render",value:function(){var e="UPLOADING"===this.state.status,t=this.props.caption?this.props.caption:"Select File",a=this.props.classes;return m.a.createElement("div",null,m.a.createElement("input",{accept:"image/*",className:a.input,id:"contained-button-file",multiple:!0,type:"file",onChange:this.captureFile}),m.a.createElement("label",{htmlFor:"contained-button-file"},m.a.createElement(v.b,{item:!0,className:a.wrapper},m.a.createElement(g.a,{variant:"outline",component:"span",className:a.button,disabled:e},t),e&&m.a.createElement(v.a,{size:24,className:a.buttonProgress}))))}}]),a}(p.Component);t.a=Object(h.withStyles)(function(e){return{button:{margin:e.spacing.unit},input:{display:"none"},wrapper:{position:"relative"},buttonProgress:{position:"absolute",top:"50%",left:"50%",marginTop:-12,marginLeft:-12}}})(k)}).call(this,a(0).Buffer)},585:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return n});var n=function(t,a){var n=["0x"+e.from(a,"utf8").toString("hex"),t];return new Promise(function(e,a){window.web3.currentProvider.sendAsync({method:"personal_sign",params:n,userAddress:t},function(t,n){t&&a(t),n.error&&a(n.error),e(n.result)})})}}).call(this,a(0).Buffer)},588:function(e,t,a){"use strict";(function(e){a.d(t,"a",function(){return r}),a.d(t,"b",function(){return i});var n=a(2533),r=function(){return new n({host:"ipfs.infura.io",port:5001,protocol:"https"})},i=function(e){return"https://ipfs.infura.io/ipfs/"+e}}).call(this,a(0).Buffer)},798:function(e,t){}},[[1150,2,1]]]);
//# sourceMappingURL=main.168e6cdc.chunk.js.map